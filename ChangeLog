/*  $Header$
 *
 *  Copyright (c) 1987-2003 Sun Microsystems, Inc.
 *  All Rights Reserved.
 */

gcalctool change history.
=========================

2003-04-13  Christian Neumair  <chris@gnome-de.org>

    * Reflect translated mode information in window title (functions.c).

2003-04-10  Rich Burridge  <rich.burridge@sun.com>

    * Fixed bug 110416 (http://bugzilla.gnome.org/show_bug.cgi?id=110416)
      Various fprintf statements in mp.c have been concatenated to help
      translators.

2003-04-02  Rich Burridge  <rich.burridge@sun.com>

    * Added in latest online help changes from Breda McColgan. This should
      now put the online help in sync with the actual functionality of
      gcalctool.

      **IMPORTANT NOTE FOR TRANSLATORS**

      Please still hold off translating these files for a while. This is still
      a draft. The documentation needs to be reviewed by an editor, and
      editorial feedback incorporated. Look for a followup entry here in the
      Changelog, with an indication that they are ready for translation.

2003-03-28  Christian Neumair  <chris@gnome-de.org>

    * Added AC_PREREQ macro to configure.in to satisfy some ac wrapper scripts
      and added German (de) to ALL_LINGUAS; bumped version to 2.4.78;
      Added missing gettext call. This makes the i18ized menu entries actually
      visible. Fixed some tooltip strings. Updated some .cvsignore files.

2003-03-25  Rich Burridge  <rich.burridge@sun.com>

    * Added in various .cvsignore files to make checkins and updates cleaner.

2003-03-25  Rich Burridge  <rich.burridge@sun.com>

    * Adjusted ChangeLog format to the Gnu style. Moved older ChangeLog entries
      off into ChangeLog-YYYY files (years 1990, 1991, 1992, 1993 and 2002).

2003-03-25  Rich Burridge  <rich.burridge@sun.com>

    * Fixed up a compiler warning for set_show_zeroes_toggle() usage in gtk.c
      Fixed up distcheck, adding intltool to EXTRA_DIST

      This version to be announced in gnome-announce.

2003-03-24  Rich Burridge  <rich.burridge@sun.com>

    * Slight adjustments to bug 108226
      (http://bugzilla.gnome.org/show_bug.cgi?id=108226)

      Menu item is now "Show Trailing Zeroes", with a Control-T accelerator.
      Added a similar menu item to the View menu on the menu bar (only active
      in Scientific mode). Adjusted program logic. Cases of "rm_zeroes" now
      become "show_zeroes". Updated the manual pages and the gcalctool
      schemas file.

2003-03-19  Dennis Cranston <dennis_cranston@yahoo.com>

    * Fixed bug 108729 (http://bugzilla.gnome.org/show_bug.cgi?id=108729)
      Added tooltips to the radio and check buttons in scientific mode.

2003-03-18  Rich Burridge  <rich.burridge@sun.com>

    * Fixed bug 108226 (http://bugzilla.gnome.org/show_bug.cgi?id=108226)

      The menu items in the Acc menu are now "tickable", so you know what the 
      current accuracy selection is. Setting one of these clears the previous 
      one.

      A new "remove trailing zeroes" menu item is added to the Acc menu (last
      item, with a separator just above), that is "tickable". This tick doesn't
      affect the accuracy ticks. It's either on or off.

      The default setting for accuracy now becomes 9 numeric places and "remove 
      trailing zeroes".

      The Acc button is moved to the Scientific mode (clear slot in the top 
      right corner, above the Rand.

      The Base radio button group and the display type radio button group in
      the mode panel in Scientific mode are now moved to the right side to be
      close in proximity to the Acc button. The other mode items move to the
      left side.

2003-03-18  Rich Burridge  <rich.burridge@sun.com>

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      Fixed bug 108208 (http://bugzilla.gnome.org/show_bug.cgi?id=108208)
      The default value for the "showregisters" resource in gcalctool.schemas
      was incorrectly set.

    * There should be no "default:" action in the command line parsing in 
      get_options().

2003-03-14  Rich Burridge  <rich.burridge@sun.com>

    * Correctly fixed bug 108219 
      (http://bugzilla.gnome.org/show_bug.cgi?id=108219)
      The previous fix didn't correct set the radio buttons when changing 
      mode from Scientific to Basic or Financial. Only the internal state.

2003-03-14  Rich Burridge  <rich.burridge@sun.com>

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      Fixed bug 108209 (http://bugzilla.gnome.org/show_bug.cgi?id=108209)
      Followup changes to make the numeric keypad animate the buttons on 
      Linux machines.

2003-03-14  Rich Burridge  <rich.burridge@sun.com>

    * Fixed bug 108219 (http://bugzilla.gnome.org/show_bug.cgi?id=108219)
      When you go from Scientific mode to either Basic or Financial mode, 
      the calculator will revert to "Dec" base in "Fix" notation.

      Any number in the display (and the memory registers if shown) will be 
      converted accordingly.

      When you are in a mode (Basic, Financial, or Scientific) you will only 
      be able to do the functionality that that mode shows. For example, you 
      will not be able to do base changes if you are in Basic or Financial mode.

2003-03-14  Rich Burridge  <rich.burridge@sun.com>

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      Fixed bug 108333 (http://bugzilla.gnome.org/show_bug.cgi?id=108333)
      The gcalctool buttons with menus associated with them are now keyboard
      navigable.

2003-03-14  Rich Burridge  <rich.burridge@sun.com>

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      Fixed bug 108209 (http://bugzilla.gnome.org/show_bug.cgi?id=108209)
      When the user uses the keyboard to enter data, the associated gcalctool
      button will be animated.

2003-03-13  Rich Burridge  <rich.burridge@sun.com>

    * Fixed bug 108210 (http://bugzilla.gnome.org/show_bug.cgi?id=108210)
      Main gcalctool window is no longer resizable.

2003-03-13  Rich Burridge  <rich.burridge@sun.com>

    * Incorporated several online help changes from Breda McColgan.

      **IMPORTANT NOTE FOR TRANSLATORS**

      Please still hold off translating these files for a while. This is still
      a draft. The documentation needs to be reviewed by an editor, and 
      editorial feedback incorporated. Look for a followup entry here in the 
      Changelog, with an indication that they are ready for translation.

2003-03-05  Rich Burridge  <rich.burridge@sun.com>

    * Added scrollkeeper checks into configure.in.

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      Fixed warning message:

      ** (gcalctool:27091): WARNING **: Help error: Unable to find the 
      GNOME_FILE_DOMAIN_APP_HELP domain

      Adjustment to the gnome_help_display() call in gtk.c to use the right 
      parameters.

2003-03-05  Rich Burridge  <rich.burridge@sun.com>

    * Added in a first (draft) version of online help from Breda McColgan in
      the Sun GNOME doc. team.

      **IMPORTANT NOTE FOR TRANSLATORS**

      Please hold off translating these files for a while. Slight revisions
      are planned for sometime in the next week or two. Look for a followup 
      entry here in the Changelog, with an indication that they are ready for 
      translation.

2003-03-05  Rich Burridge  <rich.burridge@sun.com>

    * Abstracted the key values and modifiers. This will make it easier to
      create versions of this calculator for other graphical toolkits, or
      a version with no graphics at all (prompt style).

2003-03-04  Rich Burridge  <rich.burridge@sun.com>

    * Adjusted the tooltip help to be minimalist messages. Online help for
      gcalctool will be coming soon, and this will contain the detailed help
      information (plus examples).

2003-02-28  Rich Burridge  <rich.burridge@sun.com>

    * Small adjustment to allow gcalctool to compile using the Solaris Forte
      compilers.

2003-02-26  Rich Burridge  <rich.burridge@sun.com>

    * Gcalctool wasn't saving the trigonometric type when it was changed. The
      trig_cb() function was calling do_trig() incorrectly instead of 
      do_trigtype().

    * Removed the trailing period from the ten constant definitions in the man 
      pages.

2003-02-26  evandrofg <someone@somewhere.org>

    * configure.in: Added Brazilian Portuguese (pt_BR) to ALL_LINGUAS.

2003-02-21  Rich Burridge  <rich.burridge@sun.com>

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      Allows Backspace to correctly work inside parentheses. Similar fix to
      the one for Delete in v4.2.55 (bug #106583).

2003-02-21  Rich Burridge  <rich.burridge@sun.com>

    * The Xor logical operation wasn't being performed correctly. Gdk uses
      keysym values that are greater than what can be fitted into a char.
      Adjusted v->cur_op and v->old_cal_value to now be ints.

    * Hitting Clr was not correctly clearing the Hyp and Inv trigonometric
      checkboxes. In fact, it was toggling them twice, thereby returning them
      to whatever state they were in when the user hit Clr.

2003-02-20  Rich Burridge  <rich.burridge@sun.com>

    * Removed the final period from the ten default constant descriptions.

    * Changed occurances of "kilometre" to "kilometer" and "centimetre" to
      "centimeter".

    * Fixed up the values of the ten default constant definitions in the
      manual pages.

    * The "centimeters <=> inches" default constant should be 0.3937007
      rather than 2.54 to be consistent with the other constants.

2003-02-20  Rich Burridge  <rich.burridge@sun.com>

    * Fixed bug 106583 (http://bugzilla.gnome.org/show_bug.cgi?id=106583)
      There were two parts to this. Dennis Cranston fixed the:

      (gcalctool:10872): Gtk-CRITICAL **: file gtktextbuffer.c: line 548:
      assertion `g_utf8_validate (text, len, NULL)' failed

      messages. 

      The crash was caused by the paren_disp() function in display.c not
      correctly checking for when a Delete character was entered.

2003-02-20  Rich Burridge  <rich.burridge@sun.com>

    * The financial Term tooltip example didn't work. The problem was that
      the Rate function had a keyboard shortcut of "T" and Term had "t". The
      check for which financial function was being processed in do_business()
      in functions.c didn't take into consideration any key mods (such as
      GDK_SHIFT_MASK). Add a key_equal function that now compares both the
      mods and the value of keys.

    * Moved the Exp button to the right of the Con and Fun buttons for better
      grouping.

2003-02-19  Rich Burridge  <rich.burridge@sun.com>

    * Fixed bug 106501 (http://bugzilla.gnome.org/show_bug.cgi?id=106501)
      A check has been added to the do_delete() function in functions.c to
      make sure that the length is greater than zero, before setting the
      len-1 character to '\0'.
 
2003-02-19  Rich Burridge  <rich.burridge@sun.com>

    * From Breda McColgan <breda.mccolgan@sun.com>
      Toggled the positions of the Sto and Rcl buttons. This is primarily to
      help with the online documentation, which consists of listing the 
      gcalctool buttons in several tables, grouping "like" buttons together 
      (for example: Bsp, CE, and Clr in one table; Sto, Rcl, and Exch in 
      another table). Within a table, the buttons are listed in the sequence 
      in which they appear in gcalctool. For the most part, the sequence 
      isn't significant. However, it doesn't really make sense to talk about 
      either Rcl or Exch until you've described Sto.

2003-02-19  Rich Burridge  <rich.burridge@sun.com>

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      - The process_str() function will cause a crash if the input string is 
        null. For example, if the clipboard is empty and the user presses 
        CTRL-V then gcalctool will core dump. Fixed by adding a null check to 
        the function. 

      - gcalctool now uses a text view for its display widget.

2003-02-18  Rich Burridge  <rich.burridge@sun.com>

    * Fixes to the manual page:
      - the keyboard shortcut for the "Term" function is "t" not "T".
      - removed the LOGICAL mode section.

2003-02-18  Rich Burridge  <rich.burridge@sun.com>

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      Changes the EXPAND flag to FALSE when packing the display label and mode
      frame. These widgets shouldn't expand when the calculator is resized. 

      Replace the three characters of white space in the title bar text with one
      space character, so more of the title fits into the task window list 
      applet.

2003-02-12  Rich Burridge  <rich.burridge@sun.com>

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      Added a launcher to the GNOME's Accessories menu. The launcher uses 
      gcalctool.png for its icon which required moving the icon to the pixmaps 
      installation directory.  

      This means that the find_file() function is no longer necessary, and has
      been removed. It was used only in set_gcalctool_icon(). The path of 
      gcalctool.png is now always PACKAGE_PIXMAP_DIR. 

2003-02-12  Rich Burridge  <rich.burridge@sun.com>

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      Mark the menu labels for translation and converts the
      gtk_item_factory_get_widget() calls to 
      gtk_item_factory_get_widget_by_action() calls. 

2003-02-11  Rich Burridge  <rich.burridge@sun.com>

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      - Cleans up the Help menu's layout so it looks like other GNOME 
        applications.
      - Converts gtk_init() to gnome_program_init() to allow access to things 
        like GNOME_STOCK_ABOUT.
      - Add an icon field to the Xobject structure.
      - Change setup_default_icon() to set_gcalctool_icon() and set X->icon in 
        the function.
      - Sets the window icon for the memory register and about windows.
      - Cleans up about_cb() and call it directly in menu callbacks -- like in 
        other gtk+ applications.
      - Remove the unneccessary X->about structure field.

2003-02-06  Daniel Yacob  <locales@geez.org>

    * Added Amharic (am) to ALL_LINGUAS ata configure.in.

2003-02-07  Rich Burridge  <rich.burridge@sun.com>

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      Fixed bug 104249 (http://bugzilla.gnome.org/show_bug.cgi?id=104249)
      The UI for adding new or editing existing constants and/or functions
      has been improved. It now uses a treeview editable list. A help button
      is provided, but that currently isn't hooked up. I've added a note to
      bug #104821 for this problem.

2003-02-04  Rich Burridge  <rich.burridge@sun.com>

    * Fixed bug 104830 (http://bugzilla.gnome.org/show_bug.cgi?id=104830)
      gcalctool now uses gnome-calc3.png as its icon (same as the current
      gnome-calculator). For now, I've copied that to a file, gcalctool.png
      within the gcalctool distribution. Also removed calctool.gif.

2003-01-28  Rich Burridge  <rich.burridge@sun.com>

    * Further slight adjustments needed to fix Bugzilla bug 104248. The 
      callback handler for the menu items (mb_proc in gtk.c) needed to 
      have a check at the top to see if we'd started the application yet, 
      and if it hadn't, then to just return. Seemed it was getting called 
      as gcalctool was initially coming up, which was toggling the state 
      of the v->rstate variable incorrectly.

    * Fixed bug 104240 (http://bugzilla.gnome.org/show_bug.cgi?id=104240)
      The "File" menubar item is now called "Calculator", and there is a set of
      unique mnemonics for the various items in the Scientific mode panel.
      The gcalctool manual pages have been updated to reflect these changes.

    * Added in a Control-I mnemonic for Edit->Insert ASCII Value.
      Added in a Control-A mnemonic for Help->About.

2003-01-28  Rich Burridge  <rich.burridge@sun.com>

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      Fixed bug 104248 (http://bugzilla.gnome.org/show_bug.cgi?id=104248)
      The View->Memory Registers menu item's toggle is now set correctly
      depending upon whether the memory register windows is visible or hidden.

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      The correct radio item is now set in the View menu mode menu item entries
      if gcalctool is initially started in Financial or Scientific mode.

2003-01-27  Rich Burridge  <rich.burridge@sun.com>

    * The constant and function definitions are now read and written as Gconf
      resources, rather than to a ~/.gcalctoolcf file in the user's home 
      directory. The manual pages have been updated to reflect this change.

      An entry has been added to the TODO file to reflect functionality that
      is no longer present because of this change.

    * Fixed bug 104250 (http://bugzilla.gnome.org/show_bug.cgi?id=104250)
      The constant and the function menu items now have "C<n>:" and "F<n>:" 
      prefixes respectively, where <n> is the constant/function number.

      This also involved removing the "<=>" from four of the descriptions for
      the predefined constant values.

2003-01-25  Rich Burridge  <rich.burridge@sun.com>

    * Fixed bug 104245 (http://bugzilla.gnome.org/show_bug.cgi?id=104245)
      The View->Basic Mode, Financial Mode, Scientific Mode and Memory
      Registers now have keyboard accelerators (Control-B, Control-F, Control-S
      and Control-M respectively).

2003-01-25  Rich Burridge  <rich.burridge@sun.com>

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      Further slight adjustments for bug 104287
      (http://bugzilla.gnome.org/show_bug.cgi?id=104287)
      The insert button isthe default button.
      The dialog is no longer resizable.
      The ESC key can now be used to cancel the dialog.

2003-01-24  Rich Burridge  <rich.burridge@sun.com>

    * From: Dennis Cranston <dennis_cranston@yahoo.com>
      Fixed bug 104287 (http://bugzilla.gnome.org/show_bug.cgi?id=104287)
      HIG improvements for the "Insert ASCII Value" dialog.

2003-01-23  Rich Burridge  <rich.burridge@sun.com>

    * Fixed bug 104241 (http://bugzilla.gnome.org/show_bug.cgi?id=104241)
      The Insert ASCII Value" menu item is now "Insert ASCII Value..."

    * From: Hidetoshi Tajima <hidetoshi.tajima@sun.com>
      Tidied up the I18N code as gcalctool now includes <gnome.h> which includes
      <bonobo-i18n.h,> where all this stuff is already defined.

2003-01-23  Rich Burridge  <rich.burridge@sun.com>

    * Fixed bug 102928 (http://bugzilla.gnome.org/show_bug.cgi?id=102928)
      The x^2, e^x, 10^x and y^x keys now use Pango markup to display the
      label using superscripts.

2003-01-23  Rich Burridge  <rich.burridge@sun.com>

    * Added in handling of the numeric keypad for Linux systems. This required
      an "event" signal handler on the main gcalctool window, and then checking
      for a set of keyvals that could be generated by the numeric keypad keys
      (with and without the NumLock key on).

2003-01-22  Rich Burridge  <rich.burridge@sun.com>

    * Handling the function "(3+3)" now works.
      The button struct now contains a new item (char func_char) which 
      is the character equivalent to the button when you user enteres 
      it into a function definition. The process_str() routine in 
      graphics.c has been adjusted to call button_for_fc() (a new 
      routine in functions.c) to compare each character in the function 
      string against this item in each button struct to find the 
      appropriate operation.

      Also needed changes to do_paren() to call button_for_fc() instead of 
      button_for_value().

      These changes also fix bugtraq bug #4065378.
      Certain functions entered into gcalctool produce incorrect results.

    * Changed the keyboard accelerators for the following to use non Alt-<?>
      values:

      Cos  (old value: Alt-c) becomes 'J'.
      Sin  (old value: Alt-s) becomes 'K'.
      Tan  (old value: Alt-t) becomes 'L'.
      Frac (old value: Alt-f) becomes ':'.
      Int  (old value: Alt-i) becomes 'i'.
      Abs  (old value: Alt-u) becomes 'u'.
      Rate (old value: Alt-r) becomes 'T'.

      Updated the manual pages and the tooltip help to reflect these changes.

    * Removed the need to configure with "--enable-build-broken".

2003-01-22  Rich Burridge  <rich.burridge@sun.com>

    * Adjusted the memory registers windows to use the same "R0:  0.00" format 
      (bold for first part), as the Rcl, Sto and Exch menus. 

2003-01-22  Rich Burridge  <rich.burridge@sun.com>

    * The menu items for the Rcl, Sto and Exch menus now have the format
      "R0:     0.00", where the "R0:" part is in bold.

    * From Padraig O'Briain <Padraig.Obriain@Sun.COM>
      Fix to get the keyboard accelerators for the menubar menu items working.
      The problem was due to the creation of two accelerator groups in main()
      in gtk.c.

2003-01-21  Rich Burridge  <rich.burridge@sun.com>

    * Updated the NEWS file with an overview of all the changes since v4.1.13.

2003-01-21  Rich Burridge  <rich.burridge@sun.com>

    * Removed the gconf resource for getting/setting whether a beep is sounded
      on error. A beep will now always be sounded in such a case.

    * Removed the write_resources() routine. The writing out of the resources
      will now be immediately done when each of those functions changes.

2003-01-25  Rich Burridge  <rich.burridge@sun.com>

    * Updated the manual pages to reflect the recent v4.2.xx changes.

    * Replaced the occurance of mktemp with mkstemp to placate the Gnu compiler
      on Linux.

2003-01-21  Rich Burridge  <rich.burridge@sun.com>

    * The real fix for displaying the icon. The problem was that the icon was
      being installed in the pkgdata_DATA directory, but gcalctool was looking
      for it in the CALCTOOL_DATA_DIR directory, which was incorrectly set to
      $(datadir)/calctool" rather than $(datadir)/gcalctool".

2003-01-20  Rich Burridge  <rich.burridge@sun.com>

    * Removed the setting of an event mask and a global event handler in 
      create_kframe() in gtk.c. This seems to have fixed up the keyboard 
      navigation problems.

      Control-F1 now toggles the displaying of tooltip help, so the "-h"
      command line option has been removed and the old-style event handling
      code has also been removed.

    * Added in a signal handler for the "delete" event for the main gcalctool
      window. The callback calls gtk_main_quit() to terminate the application.

2003-01-17  Rich Burridge  <rich.burridge@sun.com>

    * HCI change suggested by Calum Benson <Calum.Benson@Sun.COM>

      The gcalctool icon is now correctly displayed for me running Sun's
      fcs-10 build on Solaris. It's still a problem for Calum running
      GNOME HEAD on RH7.2.

2003-01-16  Rich Burridge  <rich.burridge@sun.com>

    * HCI change suggested by Glynn Foster <Glynn.Foster@Sun.COM>

      The Sto/Rcl/Exch menu items should show the current register values 
      as well.

      The Exch/Rcl/Sto menus are recreated each time that menu is needed. The
      menu item callbacks for these menus and the Constant and Function menus
      have been consolidated into a single menu_proc_cb() routine.

2003-01-16  Rich Burridge  <rich.burridge@sun.com>

    * HCI change suggested by Calum Benson <Calum.Benson@Sun.COM>

      All the radiobutton and checkbox items in the mode panel now have a 
      mnemonic associated with them.

2003-01-16  Rich Burridge  <rich.burridge@sun.com>

    * HCI change suggested by Calum Benson <Calum.Benson@Sun.COM>

      Fixed up the buttons on the "Insert ASCII Value", "Enter Constant..." and
      "Enter Function..." popups. They now just use Cancel and OK buttons, and 
      use standard stock Gtk icons.

2003-01-16  Rich Burridge  <rich.burridge@sun.com>

    * HCI change suggested by Calum Benson <Calum.Benson@Sun.COM>

      Added in an Edit->Paste menu item. If selected this will paste 
      the current contents of the clipboard into the calculator display 
      as if you'd typed it.

    * Added bullet proofing to the process_str() routine in graphics.c 
      to protect it against values that weren't found. If a value wasn't 
      found, it's just ignored, and it goes on to process the next 
      character in the string.

    * Improved the val_to_button() routine in functions.c. It now takes 
      into consideration the mods value for each button struct entry when 
      comparing against the given value. This isn't enough though, as it 
      won't find Alt-<n> buttons.

2003-01-16  Rich Burridge  <rich.burridge@sun.com>

    * HCI change suggested by Calum Benson <Calum.Benson@Sun.COM>

      Added a 2 pixel border for the frames containing the Basic, Financial and
      Scientific buttons and the mode panel. The calculator doesn't look so
      crowded now.

2003-01-16  Rich Burridge  <rich.burridge@sun.com>

    * HCI change suggested by Calum Benson <Calum.Benson@Sun.COM>

      Removed the "operand item" label widget, the routine where it was being 
      set (set_op_item()) and all the calls to that routine. Other calculators 
      don't have any equivalent to this, so it's not really needed.

      This also remove the opdisp entry in the button struct and the op_type 
      enum.

    * Adjusted the "keyboard values used" table in calctool.c to reflect the
      current state.

2003-01-14  Rich Burridge  <rich.burridge@sun.com>

    * The frames around the mode button tables and the mode panel were always 
      being shown. The make_but_table() and create_mode_panel() routines were
      returning the wrong widgets.

2003-01-18  Rich Burridge  <rich.burridge@sun.com>

    * Fixed bug #101865 (http://bugzilla.gnome.org/show_bug.cgi?id=101865)
      Made the following keyboard remappings:

      Function     Old         New
      ---------------------------------
      Cos        Control-c     d
      Ddb        Control-d     Alt-C
      Frac       Control-f     Alt-f
      Int        Control-i     Alt-i
      Sln        Control-l     l
      Ctrm       Control-m     m
      Rate       Control-r     Alt-r
      Sin        Control-s     Alt-s
      Tan        Control-t     Alt-t
      Abs        Control-u     Alt-u
      Syd        Control-y     Y

      Note that the keyboard equivalents for:

      Function     Old         New
      ---------------------------------
      Quit       q or Q        Control-Q
      Copy       Sun Copy key  Control-C

      still have to be added in, although the menu items in the menu bar 
      work fine. The appropriate changes have been made to the manual pages.

    * Removed mention of the "-l" and "-r" command line options from the manual 
      pages. Remove reference to the /schemes/apps/gcalctool/righthanded Gconf
      resource too.

2003-01-14  Rich Burridge  <rich.burridge@sun.com>

    * After discussion with Calum Benson, removed the "Keys" key, that allowed
      you to toggle the button labels to show their keyboard equivalents. This
      functionality is now covered by the tooltip help and the Help->Contents
      online help.

2003-01-13  Rich Burridge  <rich.burridge@sun.com>

    * Put each of the the button tables and the mode panel inside a frame,
      rather then use horizontal separators, to try to make the GUI look 
      nicer. There is still a persistent display problem to fix though 
      (see entry in the TODO file).

2003-01-13  Rich Burridge  <rich.burridge@sun.com>

    * Entering "((2+3)*(2+3))" gave the wrong answer. Problems was in the
      process_item() routine where extra values were reassigned. With gcalctool
      v4.2.0 onwards, "*" is now the multiplication operand, and "x" needed 
      to be reassigned to that value (not the other way around). Had to 
      adjust the assignment of the "x" and "*" keyboard accelerators 
      accordingly too.

    * Added in some bullet-proofing to the do_parens() routine to hopefully 
      improve the handling of bogus keyboard entries when a string in 
      parentheses is being entered.

2003-01-13  Rich Burridge  <rich.burridge@sun.com>

    * Hooked up the Help->Contents menu item. Note that help support still has
      to be included (i.e. a help subdirectory with associated files etc.).

2003-01-13  Rich Burridge  <rich.burridge@sun.com>

    * The View->Memory Registers menu item now correctly toggles the showing of
      the memory register window.

2003-01-13  Rich Burridge  <rich.burridge@sun.com>

    * Menubar menu items now use stock Gtk icons (where applicable).

2003-01-10  Rich Burridge  <rich.burridge@sun.com>

    * Revised the gcalctoolrc (Gtk resources) file for the new display layout.
      This really needs help from a real graphics designer for a suggested color
      set.

2003-01-10  Rich Burridge  <rich.burridge@sun.com>

    * Go into Scientific mode. Click on "(" twice and you'll get a segv.
      The problem was the v->current needed to be set to a copy of the 
      "n" button struct, rather than trying to find the button value from 
      user_data. Created a copy_button_info() routine that is now called 
      in three places.

2003-01-10  Rich Burridge  <rich.burridge@sun.com>

    * Added some horizontal separators to help make the calculator more readable
      when in Financial and Scientific Mode.

2003-01-09  Rich Burridge  <rich.burridge@sun.com>

    * Entering "((2+3)*9+(5-3))" causes a segv. The problem was due to the
      change from "x" to "*" as the character for multiplication. The .value
      entry in the button struct for the multiplication button needed to be
      changed to GDK_asterisk (rather than GDK_x), otherwise button_for_value()
      returns a NULL pointer.

2003-01-09  Rich Burridge  <rich.burridge@sun.com>

    * Removed the attempt to display a calculator image on the About popup.

    * Typing the keyboard equivalent of the menu buttons now works. The problem
      was in process_item() in display.c. v->current couldn't just point to the
      current button struct. It needed to be a copy of it, so that pending
      operation (which save the pending value), don't overwrite the base button
      entries.

    * Removed the VERSION string from the titlebar. This is now in the About 
      popup.

2003-01-09  Rich Burridge  <rich.burridge@sun.com>

    * Added in an About popup that's accessible through the Help->About 
      Gcalctool menubar Help menu item.

2003-01-09  Rich Burridge  <rich.burridge@sun.com>

    * Fixed bug #102927 (http://bugzilla.gnome.org/show_bug.cgi?id=102927)
      Replaced abbreviation "trig." with full word "trigonometric".

2003-01-09  Rich Burridge  <rich.burridge@sun.com>

    * Fixed bug #102922 (http://bugzilla.gnome.org/show_bug.cgi?id=102922)
      Adjusted the two occurances of sentence fragments in the 
      cfframe_apply_cb() routine in gtk.c to make it easier for L10N folks 
      to translate them.

2003-01-08  German Poo-Caaman~o  <gpoo@ubiobio.cl>

    * Added Spanish (es) to ALL_LINGUAS at configure.in

2003-01-08  Rich Burridge  <rich.burridge@sun.com>

    * gcalctool is now resizable again.

2003-01-08  Andrew Sobala  <andrew@sobala.net>

    * Make calculator window choose a reasonable size at startup, and resize 
      when changing modes.

2003-01-08  Rich Burridge  <rich.burridge@sun.com>

    * Removed the GNOME_UTIL_LIBS line from .../gcalctool/Makefile.am as it's
      not needed.

2003-01-08  Andrew Sobala  <andrew@sobala.net>

    * Fixed "blank buttons displaying" bug. 

    * Added small section to configure.in that forces a "--enable-build-broken"
      flag to have to be passed to configure in order to build gcalctool while 
      it is still in this semi-broken state. This will be removed when most of
      the items mentioned in the first section of the TODO file have been
      implemented.

2003-01-08  Rich Burridge  <rich.burridge@sun.com>

    * Updated the copyright messages to by the correct GPL ones for the various
      source files, plus used date of 2003 (not 2002) in:

      .../ChangeLog
      .../NEWS
      .../README
      .../TODO.
      .../gcalctool/calctool.c
      .../gcalctool/calctool.h
      .../gcalctool/display.c
      .../gcalctool/dsdefs.h
      .../gcalctool/dsfuns.c
      .../gcalctool/extern.h
      .../gcalctool/functions.c
      .../gcalctool/gcalctool.1
      .../gcalctool/get.c
      .../gcalctool/graphics.c
      .../gcalctool/gtk.c
      .../gcalctool/mp.c

    * The Financial/Logical/Scientific mode buttons have been moved into
      the main calculator window above the Basic mode buttons.

    * Added a menubar with the following menus/items:

      File      Edit                  View              Help
      -----------------------------------------------------------------
      Quit      Copy                  Basic Mode        Contents...
                Insert ASCII Value    Financial Mode    About Gcalctool
                                      Scientific Mode

                                      Memory Register
                                      Right-handed Style

      The functionality has been hooked up except for the two Help menu items.

    * Revamped the gcalctool design. The Basic Mode is much simpler now.
      The Logical and Scientific modes have been combined into a single
      Scientific mode (which also includes some of the functionality that
      was in the previous Basic mode).

      The mode buttons are now extra button tables (and a mode panel) that get
      shown or hidden in the main gcalctool window depending upon the current
      mode.

      The six item mode display has been removed. The current base, numeric
      display type, trigonometric type, hyp and inv settings can be seen by
      the radio buttons and check boxes in the mode panel. The current mode is
      given in the main window title bar. The only things that's really 
      different is that there is no longer a current operand display item.

    * Remove the small property sheet that was displayed when you right clicked
      in the main window button area (not over a button). This had the ability
      to set a left or right-handed style. This functionality has also been
      removed, because with the simplification of the Basic mode, it's no 
      longer needed. Remove the command line options and resources associated 
      with this.

    * From Andrew Sobala <andrew@sobala.net>
      Fixed bug #102698 - "make distcheck" fails. Fix was to use the correct
      GNOME 2 autogen.sh. Also added #(schema_DATA) to the top-level
      Makefile.am
